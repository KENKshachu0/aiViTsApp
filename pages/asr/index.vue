<template>
  <view class="container">
    <button @click="startASR">ðŸŽ¤ å¼€å§‹è¯­éŸ³è¯†åˆ«</button>
    <view class="result">è¯†åˆ«ç»“æžœï¼š{{ result }}</view>
  </view>
</template>

<script>
import AliASR from '@/utils/nls.js'

export default {
  data() {
    return {
      result: '',
      asr: null,
    }
  },
  methods: {
    startASR() {
      const appkey = '2BBIDJhM2wHRBQIl'// aliyun appkey    STATIC!!!
      const token = 'a5ef6be6b8424265bf8b746917c327c3' //aliyun token

      this.result = ''
      this.asr = new AliASR({
        appkey,
        token,
        onResult: (res) => {
          this.result = res
          console.log("è¯†åˆ«ç»“æžœï¼š", res)
        }
      })
      this.asr.start()
    }
  }
}
</script>

<style>
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 100rpx;
}
.result {
  margin-top: 40rpx;
  font-size: 20px;
  color: #333;
  text-align: center;
}
</style>